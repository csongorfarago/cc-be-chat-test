{"version":3,"sources":["server.test.js"],"names":["server","require","WebSocket","t","ws","connect","readyState","on","open","console","log","pass","error","fail"],"mappings":";;AAAA;;;;;;AACA,MAAMA,SAASC,QAAQ,cAAR,CAAf;;AAEA,MAAMC,YAAYD,QAAQ,IAAR,CAAlB;;AAEA,mBAAK,YAAL,EAAmB,MAAME,CAAN,IAAW;AAC1B,UAAMC,KAAK,MAAMC,SAAjB;AACA,gBAAY;AACR,eAAMD,GAAGE,UAAH,IAAiB,CAAvB,EAAyB;AACrB;AACH;AACJ,KAJD;;AAMAF,OAAGG,EAAH,CAAM,MAAN,EAAc,SAASC,IAAT,GAAgB;AAC1BC,gBAAQC,GAAR,CAAY,qBAAZ;AACAP,UAAEQ,IAAF;AACH,KAHD;AAIAP,OAAGG,EAAH,CAAM,OAAN,EAAe,SAASC,IAAT,CAAcI,KAAd,EAAqB;AAChCT,UAAEU,IAAF,CAAOD,KAAP;AACH,KAFD;AAGH,CAfD;;AAiBA,MAAMP,UAAU,MAAM;AACpB,UAAMD,KAAK,IAAIF,SAAJ,CAAc,qBAAd,CAAX;AACA,WAAOE,EAAP;AACD,CAHD","file":"server.test.js","sourcesContent":["import test from 'ava';\r\nconst server = require('../server.js');\r\n\r\nconst WebSocket = require('ws');  \r\n\r\ntest('connection', async t => {      \r\n    const ws = await connect();\r\n    async () => { \r\n        while(ws.readyState == 0){ \r\n            //connecting.. \r\n        } \r\n    }   \r\n    \r\n    ws.on('open', function open() {\r\n        console.log('server is connected');\r\n        t.pass();\r\n    });  \r\n    ws.on('error', function open(error) {\r\n        t.fail(error);\r\n    });        \r\n})\r\n\r\nconst connect = () => {\r\n  const ws = new WebSocket('ws://localhost:8080');\r\n  return ws;\r\n};"]}