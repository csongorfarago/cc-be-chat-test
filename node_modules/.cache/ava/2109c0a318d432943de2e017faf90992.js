'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const server = require('../server.js');

const WebSocket = require('ws');
const ws = new WebSocket('ws://localhost:8080');

ws.on('open', function open() {
  console.log('server is connected');

  (0, _ava2.default)('connection', t => {
    if (ws.readyState == 1) {
      t.pass();
    } else {
      t.fail();
    }
  });
});

(0, _ava2.default)('connection', async t => {
  setTimeout(function afterTwoSeconds() {
    console.log('2');
  }, 2000);
});
//# sourceMappingURL=..\node_modules\.cache\ava\2109c0a318d432943de2e017faf90992.js.map